import{_ as v}from"./2-DedDBnVY.js";import{_ as h,r as i,b as f,x as k,c as g,e as s,f as c,y as b,j as w,w as d,p as l,t as y,z as x,u as C,o as u,q as _}from"./index-Dye-iBda.js";const A={class:"admin-dashboard"},B={class:"admin-nav"},N={class:"nav-links"},S={class:"nav-footer"},V={class:"user-info"},D={class:"admin-content"},E={__name:"Dashboard",setup(z){const o=C(),t=i("Admin"),r=i(!1);f(async()=>{try{const a=await k();a.data.authenticated&&a.data.user&&(t.value=a.data.user.nombre||a.data.user.email,r.value=a.data.user.id===1)}catch(a){console.error("Error al verificar auth:",a)}});const m=async()=>{try{await x(),o.push("/admin/login")}catch(a){console.error("Error al cerrar sesión:",a),o.push("/admin/login")}};return(a,e)=>{const n=l("router-link"),p=l("router-view");return u(),g("div",A,[s("nav",B,[e[2]||(e[2]=s("div",{class:"nav-header"},[s("img",{src:v,alt:"Schweizer",class:"nav-logo"}),s("h1",null,"Panel Admin")],-1)),s("div",N,[c(n,{to:"/admin/propiedades",class:"nav-link"},{default:d(()=>[...e[0]||(e[0]=[_(" Propiedades ",-1)])]),_:1}),r.value?(u(),b(n,{key:0,to:"/admin/usuarios",class:"nav-link"},{default:d(()=>[...e[1]||(e[1]=[_(" Usuarios ",-1)])]),_:1})):w("",!0)]),s("div",S,[s("div",V,[s("span",null,y(t.value),1)]),s("button",{onClick:m,class:"btn-logout"}," Cerrar Sesión ")])]),s("main",D,[c(p)])])}}},q=h(E,[["__scopeId","data-v-1ceff28a"]]);export{q as default};
